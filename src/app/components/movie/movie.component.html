<body>
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
      <div class="d-flex w-100 justify-content-center">
        <a class="navbar-brand" routerLink="/homepage" style="font-weight: bold"
          >Review Nang</a
        >
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" style="font-weight: bold">Search</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" style="font-weight: bold">{{
              currentUser?.username
            }}</a>
          </li>
          <li class="nav-item">
            <app-user-dropdown></app-user-dropdown>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="movie-details-page">
    <div class="movie-header">
      <div class="movie-header-content">
        <div class="movie-actions">
          <img
            [src]="movie.imageUrl"
            alt="{{ movie.title }}"
            class="movie-poster"
          />
          <!-- Update the Rate This button to pass movie title as parameter -->
          <button
            class="rate-btn"
            [routerLink]="'/review'"
            [queryParams]="{ movie: movie.title }"
          >
            <svg
              width="31"
              height="30"
              viewBox="0 0 31 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.7572 1.05457C16.4538 0.41011 15.8127 0 15.1087 0C14.4046 0 13.7693 0.41011 13.4602 1.05457L9.7797 8.80566L1.56014 10.0477C0.873268 10.1532 0.300875 10.6453 0.0890898 11.319C-0.122695 11.9928 0.0490221 12.7369 0.54128 13.2348L6.50561 19.2752L5.09752 27.8113C4.98305 28.5144 5.26924 29.2291 5.83591 29.6451C6.40258 30.0611 7.15241 30.1138 7.7706 29.7799L15.1144 25.7666L22.4582 29.7799C23.0764 30.1138 23.8262 30.0669 24.3929 29.6451C24.9595 29.2233 25.2457 28.5144 25.1313 27.8113L23.7175 19.2752L29.6818 13.2348C30.174 12.7369 30.3515 11.9928 30.134 11.319C29.9165 10.6453 29.3498 10.1532 28.6629 10.0477L20.4376 8.80566L16.7572 1.05457Z"
                fill="#F5BD02"
              />
            </svg>
            &nbsp; Rate This
          </button>
          <button class="add-watchlist-btn">Add to Watchlist</button>
        </div>
      </div>
      <div class="movie-header-content">
        <h1 class="movie-title">{{ movie.title }}</h1>
        <div *ngFor="let summary of movie.summaries">
          <p class="movie-description">{{ summary.text }}</p>
          <p class="movie-provider">- {{ summary.provider }}</p>
        </div>
      </div>
    </div>

    <div class="movie-details-tabs">
      <div class="tabs">
        <button
          class="tab-btn"
          [ngClass]="{ active: activeTab === 'overview' }"
          (click)="showTab('overview')"
        >
          Overview
        </button>
        <button
          class="tab-btn"
          [ngClass]="{ active: activeTab === 'cast' }"
          (click)="showTab('cast')"
        >
          Cast
        </button>
        <button
          class="tab-btn"
          [ngClass]="{ active: activeTab === 'staff' }"
          (click)="showTab('staff')"
        >
          Staff
        </button>
        <button
          class="tab-btn"
          [ngClass]="{ active: activeTab === 'trailer' }"
          (click)="showTab('trailer')"
        >
          Trailer
        </button>
        <button
          class="tab-btn"
          [ngClass]="{ active: activeTab === 'reviews' }"
          (click)="showTab('reviews')"
        >
          User Reviews
        </button>
      </div>

      <div class="tab-content">
        <div class="overview-tab" *ngIf="activeTab === 'overview'">
          <div class="overview-cards">
            <div class="overview-card" *ngIf="movie.rating">
              <p class="overview-card-rating">
                <svg
                  width="31"
                  height="30"
                  viewBox="0 0 31 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16.7572 1.05457C16.4538 0.41011 15.8127 0 15.1087 0C14.4046 0 13.7693 0.41011 13.4602 1.05457L9.7797 8.80566L1.56014 10.0477C0.873268 10.1532 0.300875 10.6453 0.0890898 11.319C-0.122695 11.9928 0.0490221 12.7369 0.54128 13.2348L6.50561 19.2752L5.09752 27.8113C4.98305 28.5144 5.26924 29.2291 5.83591 29.6451C6.40258 30.0611 7.15241 30.1138 7.7706 29.7799L15.1144 25.7666L22.4582 29.7799C23.0764 30.1138 23.8262 30.0669 24.3929 29.6451C24.9595 29.2233 25.2457 28.5144 25.1313 27.8113L23.7175 19.2752L29.6818 13.2348C30.174 12.7369 30.3515 11.9928 30.134 11.319C29.9165 10.6453 29.3498 10.1532 28.6629 10.0477L20.4376 8.80566L16.7572 1.05457Z"
                    fill="#F5BD02"
                  />
                </svg>
                &nbsp;{{ movie.rating }} ({{ movie.usersRating }})
              </p>
            </div>
            <div class="overview-card" *ngIf="movie.watchlist">
              <p class="overview-card-watchlist">
                <svg
                  width="33"
                  height="30"
                  viewBox="0 0 33 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_183_1899)">
                    <path
                      d="M16.2634 16.875C21.2695 16.875 25.331 13.0957 25.331 8.4375C25.331 3.7793 21.2695 0 16.2634 0C11.2573 0 7.1957 3.7793 7.1957 8.4375C7.1957 13.0957 11.2573 16.875 16.2634 16.875ZM24.3235 18.75H20.8539C19.4559 19.3477 17.9006 19.6875 16.2634 19.6875C14.6261 19.6875 13.0771 19.3477 11.6729 18.75H8.20322C3.75124 18.75 0.143066 22.1074 0.143066 26.25V27.1875C0.143066 28.7402 1.49692 30 3.16562 30H29.3611C31.0298 30 32.3837 28.7402 32.3837 27.1875V26.25C32.3837 22.1074 28.7755 18.75 24.3235 18.75Z"
                      fill="#95A5A6"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_183_1899">
                      <rect
                        width="32.2406"
                        height="30"
                        fill="white"
                        transform="translate(0.143066)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                &nbsp; ({{ movie.watchlist }})
              </p>
            </div>
            <div class="overview-card">
              <span class="overview-card-text">
                Format <br />
                <p class="overview-card-text">{{ movie.format }}</p>
              </span>
              <span class="overview-card-text">
                Genres <br />
                <ul class="genre-list">
                  <li
                    *ngFor="let genre of movie.genres"
                    class="overview-card-text"
                  >
                    {{ genre }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Runtime <br />
                <p class="overview-card-text">{{ movie.runtime }}</p>
              </span>
              <span class="overview-card-text">
                Release Date <br />
                <p class="overview-card-text">
                  {{ movie.releaseDate | date : "MMMM d, y" }}
                </p>
              </span>
              <span class="overview-card-text">
                Countries of origin <br />
                <ul class="country-list">
                  <li
                    *ngFor="let country of movie.countriesOfOrigin"
                    class="overview-card-text"
                  >
                    {{ country }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Languages <br />
                <ul class="language-list">
                  <li
                    *ngFor="let languages of movie.languages"
                    class="overview-card-text"
                  >
                    {{ languages }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Also known as <br />
                <ul class="aka-list">
                  <li *ngFor="let aka of movie.aka" class="overview-card-text">
                    {{ aka }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Filming locations <br />
                <ul class="filming-locations-list">
                  <li
                    *ngFor="let filmingLocations of movie.filmingLocations"
                    class="overview-card-text"
                  >
                    {{ filmingLocations }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Production companies <br />
                <ul class="production-companies-list">
                  <li
                    *ngFor="
                      let productionCompanies of movie.productionCompanies
                    "
                    class="overview-card-text"
                  >
                    {{ productionCompanies }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Motion Picture Rating (MPA) <br />
                <p class="overview-card-text">{{ movie.MPA }}</p>
              </span>
            </div>
          </div>
          <div class="overview-container">
            <div class="overview-cast">
              <p>Cast</p>
              <div class="overview-cast-cards">
                <div
                  class="overview-cast-card"
                  *ngFor="let cast of movie.cast | slice : 0 : 4; let i = index"
                >
                  <img
                    [src]="cast.imageUrl"
                    alt="{{ cast.name }}"
                    class="cast-picture"
                  />
                  <div class="cast-info">
                    <p class="cast-name">{{ cast.name }}</p>
                    <p class="cast-role">{{ cast.role }}</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="overview-cast">
              <p>Staff</p>
              <div class="overview-cast-cards">
                <div
                  class="overview-cast-card"
                  *ngFor="
                    let staff of movie.staff | slice : 0 : 4;
                    let i = index
                  "
                >
                  <img
                    [src]="staff.imageUrl"
                    alt="{{ staff.name }}"
                    class="cast-picture"
                  />
                  <div class="cast-info">
                    <p class="cast-name">{{ staff.name }}</p>
                    <p class="cast-role">{{ staff.role }}</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="overview-trailer">
              <p>Trailer</p>
              <iframe
                width="560"
                height="315"
                [src]="movie.trailerUrl ?? '' | safeUrl"
                title="YouTube video player"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin"
                allowfullscreen
              ></iframe>
            </div>
            <div class="overview-review">
              <p>User Reviews</p>
              <app-review-card
                *ngFor="
                  let review of movieService.latestReviews
                    | movie3ReviewsFilter : movie.title
                "
                [review]="review"
                [showImage]="false"
              ></app-review-card>
            </div>
          </div>
        </div>

        <div class="cast-tab" *ngIf="activeTab === 'cast'">
          <div class="overview-cards">
            <div class="overview-card" *ngIf="movie.rating">
              <p class="overview-card-rating">
                <svg
                  width="31"
                  height="30"
                  viewBox="0 0 31 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16.7572 1.05457C16.4538 0.41011 15.8127 0 15.1087 0C14.4046 0 13.7693 0.41011 13.4602 1.05457L9.7797 8.80566L1.56014 10.0477C0.873268 10.1532 0.300875 10.6453 0.0890898 11.319C-0.122695 11.9928 0.0490221 12.7369 0.54128 13.2348L6.50561 19.2752L5.09752 27.8113C4.98305 28.5144 5.26924 29.2291 5.83591 29.6451C6.40258 30.0611 7.15241 30.1138 7.7706 29.7799L15.1144 25.7666L22.4582 29.7799C23.0764 30.1138 23.8262 30.0669 24.3929 29.6451C24.9595 29.2233 25.2457 28.5144 25.1313 27.8113L23.7175 19.2752L29.6818 13.2348C30.174 12.7369 30.3515 11.9928 30.134 11.319C29.9165 10.6453 29.3498 10.1532 28.6629 10.0477L20.4376 8.80566L16.7572 1.05457Z"
                    fill="#F5BD02"
                  />
                </svg>
                &nbsp;{{ movie.rating }} ({{ movie.usersRating }})
              </p>
            </div>
            <div class="overview-card" *ngIf="movie.watchlist">
              <p class="overview-card-watchlist">
                <svg
                  width="33"
                  height="30"
                  viewBox="0 0 33 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_183_1899)">
                    <path
                      d="M16.2634 16.875C21.2695 16.875 25.331 13.0957 25.331 8.4375C25.331 3.7793 21.2695 0 16.2634 0C11.2573 0 7.1957 3.7793 7.1957 8.4375C7.1957 13.0957 11.2573 16.875 16.2634 16.875ZM24.3235 18.75H20.8539C19.4559 19.3477 17.9006 19.6875 16.2634 19.6875C14.6261 19.6875 13.0771 19.3477 11.6729 18.75H8.20322C3.75124 18.75 0.143066 22.1074 0.143066 26.25V27.1875C0.143066 28.7402 1.49692 30 3.16562 30H29.3611C31.0298 30 32.3837 28.7402 32.3837 27.1875V26.25C32.3837 22.1074 28.7755 18.75 24.3235 18.75Z"
                      fill="#95A5A6"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_183_1899">
                      <rect
                        width="32.2406"
                        height="30"
                        fill="white"
                        transform="translate(0.143066)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                &nbsp; ({{ movie.watchlist }})
              </p>
            </div>
            <div class="overview-card">
              <span class="overview-card-text">
                Format <br />
                <p class="overview-card-text">{{ movie.format }}</p>
              </span>
              <span class="overview-card-text">
                Genres <br />
                <ul class="genre-list">
                  <li
                    *ngFor="let genre of movie.genres"
                    class="overview-card-text"
                  >
                    {{ genre }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Runtime <br />
                <p class="overview-card-text">{{ movie.runtime }}</p>
              </span>
              <span class="overview-card-text">
                Release Date <br />
                <p class="overview-card-text">
                  {{ movie.releaseDate | date : "MMMM d, y" }}
                </p>
              </span>
              <span class="overview-card-text">
                Countries of origin <br />
                <ul class="country-list">
                  <li
                    *ngFor="let country of movie.countriesOfOrigin"
                    class="overview-card-text"
                  >
                    {{ country }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Languages <br />
                <ul class="language-list">
                  <li
                    *ngFor="let languages of movie.languages"
                    class="overview-card-text"
                  >
                    {{ languages }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Also known as <br />
                <ul class="aka-list">
                  <li *ngFor="let aka of movie.aka" class="overview-card-text">
                    {{ aka }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Filming locations <br />
                <ul class="filming-locations-list">
                  <li
                    *ngFor="let filmingLocations of movie.filmingLocations"
                    class="overview-card-text"
                  >
                    {{ filmingLocations }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Production companies <br />
                <ul class="production-companies-list">
                  <li
                    *ngFor="
                      let productionCompanies of movie.productionCompanies
                    "
                    class="overview-card-text"
                  >
                    {{ productionCompanies }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Motion Picture Rating (MPA) <br />
                <p class="overview-card-text">{{ movie.MPA }}</p>
              </span>
            </div>
          </div>
          <div class="overview-cast">
            <div class="overview-cast-cards">
              <div
                class="overview-cast-card"
                *ngFor="let cast of movie.cast; let i = index"
              >
                <img
                  [src]="cast.imageUrl"
                  alt="{{ cast.name }}"
                  class="cast-picture"
                />
                <div class="cast-info">
                  <p class="cast-name">{{ cast.name }}</p>
                  <p class="cast-role">{{ cast.role }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="staff-tab" *ngIf="activeTab === 'staff'">
          <div class="overview-cards">
            <div class="overview-card" *ngIf="movie.rating">
              <p class="overview-card-rating">
                <svg
                  width="31"
                  height="30"
                  viewBox="0 0 31 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16.7572 1.05457C16.4538 0.41011 15.8127 0 15.1087 0C14.4046 0 13.7693 0.41011 13.4602 1.05457L9.7797 8.80566L1.56014 10.0477C0.873268 10.1532 0.300875 10.6453 0.0890898 11.319C-0.122695 11.9928 0.0490221 12.7369 0.54128 13.2348L6.50561 19.2752L5.09752 27.8113C4.98305 28.5144 5.26924 29.2291 5.83591 29.6451C6.40258 30.0611 7.15241 30.1138 7.7706 29.7799L15.1144 25.7666L22.4582 29.7799C23.0764 30.1138 23.8262 30.0669 24.3929 29.6451C24.9595 29.2233 25.2457 28.5144 25.1313 27.8113L23.7175 19.2752L29.6818 13.2348C30.174 12.7369 30.3515 11.9928 30.134 11.319C29.9165 10.6453 29.3498 10.1532 28.6629 10.0477L20.4376 8.80566L16.7572 1.05457Z"
                    fill="#F5BD02"
                  />
                </svg>
                &nbsp;{{ movie.rating }} ({{ movie.usersRating }})
              </p>
            </div>
            <div class="overview-card" *ngIf="movie.watchlist">
              <p class="overview-card-watchlist">
                <svg
                  width="33"
                  height="30"
                  viewBox="0 0 33 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_183_1899)">
                    <path
                      d="M16.2634 16.875C21.2695 16.875 25.331 13.0957 25.331 8.4375C25.331 3.7793 21.2695 0 16.2634 0C11.2573 0 7.1957 3.7793 7.1957 8.4375C7.1957 13.0957 11.2573 16.875 16.2634 16.875ZM24.3235 18.75H20.8539C19.4559 19.3477 17.9006 19.6875 16.2634 19.6875C14.6261 19.6875 13.0771 19.3477 11.6729 18.75H8.20322C3.75124 18.75 0.143066 22.1074 0.143066 26.25V27.1875C0.143066 28.7402 1.49692 30 3.16562 30H29.3611C31.0298 30 32.3837 28.7402 32.3837 27.1875V26.25C32.3837 22.1074 28.7755 18.75 24.3235 18.75Z"
                      fill="#95A5A6"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_183_1899">
                      <rect
                        width="32.2406"
                        height="30"
                        fill="white"
                        transform="translate(0.143066)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                &nbsp; ({{ movie.watchlist }})
              </p>
            </div>
            <div class="overview-card">
              <span class="overview-card-text">
                Format <br />
                <p class="overview-card-text">{{ movie.format }}</p>
              </span>
              <span class="overview-card-text">
                Genres <br />
                <ul class="genre-list">
                  <li
                    *ngFor="let genre of movie.genres"
                    class="overview-card-text"
                  >
                    {{ genre }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Runtime <br />
                <p class="overview-card-text">{{ movie.runtime }}</p>
              </span>
              <span class="overview-card-text">
                Release Date <br />
                <p class="overview-card-text">
                  {{ movie.releaseDate | date : "MMMM d, y" }}
                </p>
              </span>
              <span class="overview-card-text">
                Countries of origin <br />
                <ul class="country-list">
                  <li
                    *ngFor="let country of movie.countriesOfOrigin"
                    class="overview-card-text"
                  >
                    {{ country }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Languages <br />
                <ul class="language-list">
                  <li
                    *ngFor="let languages of movie.languages"
                    class="overview-card-text"
                  >
                    {{ languages }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Also known as <br />
                <ul class="aka-list">
                  <li *ngFor="let aka of movie.aka" class="overview-card-text">
                    {{ aka }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Filming locations <br />
                <ul class="filming-locations-list">
                  <li
                    *ngFor="let filmingLocations of movie.filmingLocations"
                    class="overview-card-text"
                  >
                    {{ filmingLocations }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Production companies <br />
                <ul class="production-companies-list">
                  <li
                    *ngFor="
                      let productionCompanies of movie.productionCompanies
                    "
                    class="overview-card-text"
                  >
                    {{ productionCompanies }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Motion Picture Rating (MPA) <br />
                <p class="overview-card-text">{{ movie.MPA }}</p>
              </span>
            </div>
          </div>
          <div class="overview-cast">
            <div class="overview-cast-cards">
              <div
                class="overview-cast-card"
                *ngFor="let staff of movie.staff; let i = index"
              >
                <img
                  [src]="staff.imageUrl"
                  alt="{{ staff.name }}"
                  class="cast-picture"
                />
                <div class="cast-info">
                  <p class="cast-name">{{ staff.name }}</p>
                  <p class="cast-role">{{ staff.role }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="trailer-tab" *ngIf="activeTab === 'trailer'">
          <div class="overview-cards">
            <div class="overview-card" *ngIf="movie.rating">
              <p class="overview-card-rating">
                <svg
                  width="31"
                  height="30"
                  viewBox="0 0 31 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16.7572 1.05457C16.4538 0.41011 15.8127 0 15.1087 0C14.4046 0 13.7693 0.41011 13.4602 1.05457L9.7797 8.80566L1.56014 10.0477C0.873268 10.1532 0.300875 10.6453 0.0890898 11.319C-0.122695 11.9928 0.0490221 12.7369 0.54128 13.2348L6.50561 19.2752L5.09752 27.8113C4.98305 28.5144 5.26924 29.2291 5.83591 29.6451C6.40258 30.0611 7.15241 30.1138 7.7706 29.7799L15.1144 25.7666L22.4582 29.7799C23.0764 30.1138 23.8262 30.0669 24.3929 29.6451C24.9595 29.2233 25.2457 28.5144 25.1313 27.8113L23.7175 19.2752L29.6818 13.2348C30.174 12.7369 30.3515 11.9928 30.134 11.319C29.9165 10.6453 29.3498 10.1532 28.6629 10.0477L20.4376 8.80566L16.7572 1.05457Z"
                    fill="#F5BD02"
                  />
                </svg>
                &nbsp;{{ movie.rating }} ({{ movie.usersRating }})
              </p>
            </div>
            <div class="overview-card" *ngIf="movie.watchlist">
              <p class="overview-card-watchlist">
                <svg
                  width="33"
                  height="30"
                  viewBox="0 0 33 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_183_1899)">
                    <path
                      d="M16.2634 16.875C21.2695 16.875 25.331 13.0957 25.331 8.4375C25.331 3.7793 21.2695 0 16.2634 0C11.2573 0 7.1957 3.7793 7.1957 8.4375C7.1957 13.0957 11.2573 16.875 16.2634 16.875ZM24.3235 18.75H20.8539C19.4559 19.3477 17.9006 19.6875 16.2634 19.6875C14.6261 19.6875 13.0771 19.3477 11.6729 18.75H8.20322C3.75124 18.75 0.143066 22.1074 0.143066 26.25V27.1875C0.143066 28.7402 1.49692 30 3.16562 30H29.3611C31.0298 30 32.3837 28.7402 32.3837 27.1875V26.25C32.3837 22.1074 28.7755 18.75 24.3235 18.75Z"
                      fill="#95A5A6"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_183_1899">
                      <rect
                        width="32.2406"
                        height="30"
                        fill="white"
                        transform="translate(0.143066)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                &nbsp; ({{ movie.watchlist }})
              </p>
            </div>
            <div class="overview-card">
              <span class="overview-card-text">
                Format <br />
                <p class="overview-card-text">{{ movie.format }}</p>
              </span>
              <span class="overview-card-text">
                Genres <br />
                <ul class="genre-list">
                  <li
                    *ngFor="let genre of movie.genres"
                    class="overview-card-text"
                  >
                    {{ genre }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Runtime <br />
                <p class="overview-card-text">{{ movie.runtime }}</p>
              </span>
              <span class="overview-card-text">
                Release Date <br />
                <p class="overview-card-text">
                  {{ movie.releaseDate | date : "MMMM d, y" }}
                </p>
              </span>
              <span class="overview-card-text">
                Countries of origin <br />
                <ul class="country-list">
                  <li
                    *ngFor="let country of movie.countriesOfOrigin"
                    class="overview-card-text"
                  >
                    {{ country }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Languages <br />
                <ul class="language-list">
                  <li
                    *ngFor="let languages of movie.languages"
                    class="overview-card-text"
                  >
                    {{ languages }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Also known as <br />
                <ul class="aka-list">
                  <li *ngFor="let aka of movie.aka" class="overview-card-text">
                    {{ aka }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Filming locations <br />
                <ul class="filming-locations-list">
                  <li
                    *ngFor="let filmingLocations of movie.filmingLocations"
                    class="overview-card-text"
                  >
                    {{ filmingLocations }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Production companies <br />
                <ul class="production-companies-list">
                  <li
                    *ngFor="
                      let productionCompanies of movie.productionCompanies
                    "
                    class="overview-card-text"
                  >
                    {{ productionCompanies }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Motion Picture Rating (MPA) <br />
                <p class="overview-card-text">{{ movie.MPA }}</p>
              </span>
            </div>
          </div>
          <div class="overview-trailer">
            <iframe
              width="560"
              height="315"
              [src]="movie.trailerUrl ?? '' | safeUrl"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin"
              allowfullscreen
            ></iframe>
          </div>
        </div>

        <div class="reviews-tab" *ngIf="activeTab === 'reviews'">
          <div class="overview-cards">
            <div class="overview-card" *ngIf="movie.rating">
              <p class="overview-card-rating">
                <svg
                  width="31"
                  height="30"
                  viewBox="0 0 31 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16.7572 1.05457C16.4538 0.41011 15.8127 0 15.1087 0C14.4046 0 13.7693 0.41011 13.4602 1.05457L9.7797 8.80566L1.56014 10.0477C0.873268 10.1532 0.300875 10.6453 0.0890898 11.319C-0.122695 11.9928 0.0490221 12.7369 0.54128 13.2348L6.50561 19.2752L5.09752 27.8113C4.98305 28.5144 5.26924 29.2291 5.83591 29.6451C6.40258 30.0611 7.15241 30.1138 7.7706 29.7799L15.1144 25.7666L22.4582 29.7799C23.0764 30.1138 23.8262 30.0669 24.3929 29.6451C24.9595 29.2233 25.2457 28.5144 25.1313 27.8113L23.7175 19.2752L29.6818 13.2348C30.174 12.7369 30.3515 11.9928 30.134 11.319C29.9165 10.6453 29.3498 10.1532 28.6629 10.0477L20.4376 8.80566L16.7572 1.05457Z"
                    fill="#F5BD02"
                  />
                </svg>
                &nbsp;{{ movie.rating }} ({{ movie.usersRating }})
              </p>
            </div>
            <div class="overview-card" *ngIf="movie.watchlist">
              <p class="overview-card-watchlist">
                <svg
                  width="33"
                  height="30"
                  viewBox="0 0 33 30"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_183_1899)">
                    <path
                      d="M16.2634 16.875C21.2695 16.875 25.331 13.0957 25.331 8.4375C25.331 3.7793 21.2695 0 16.2634 0C11.2573 0 7.1957 3.7793 7.1957 8.4375C7.1957 13.0957 11.2573 16.875 16.2634 16.875ZM24.3235 18.75H20.8539C19.4559 19.3477 17.9006 19.6875 16.2634 19.6875C14.6261 19.6875 13.0771 19.3477 11.6729 18.75H8.20322C3.75124 18.75 0.143066 22.1074 0.143066 26.25V27.1875C0.143066 28.7402 1.49692 30 3.16562 30H29.3611C31.0298 30 32.3837 28.7402 32.3837 27.1875V26.25C32.3837 22.1074 28.7755 18.75 24.3235 18.75Z"
                      fill="#95A5A6"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_183_1899">
                      <rect
                        width="32.2406"
                        height="30"
                        fill="white"
                        transform="translate(0.143066)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                &nbsp; ({{ movie.watchlist }})
              </p>
            </div>
            <div class="overview-card">
              <span class="overview-card-text">
                Format <br />
                <p class="overview-card-text">{{ movie.format }}</p>
              </span>
              <span class="overview-card-text">
                Genres <br />
                <ul class="genre-list">
                  <li
                    *ngFor="let genre of movie.genres"
                    class="overview-card-text"
                  >
                    {{ genre }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Runtime <br />
                <p class="overview-card-text">{{ movie.runtime }}</p>
              </span>
              <span class="overview-card-text">
                Release Date <br />
                <p class="overview-card-text">
                  {{ movie.releaseDate | date : "MMMM d, y" }}
                </p>
              </span>
              <span class="overview-card-text">
                Countries of origin <br />
                <ul class="country-list">
                  <li
                    *ngFor="let country of movie.countriesOfOrigin"
                    class="overview-card-text"
                  >
                    {{ country }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Languages <br />
                <ul class="language-list">
                  <li
                    *ngFor="let languages of movie.languages"
                    class="overview-card-text"
                  >
                    {{ languages }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Also known as <br />
                <ul class="aka-list">
                  <li *ngFor="let aka of movie.aka" class="overview-card-text">
                    {{ aka }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Filming locations <br />
                <ul class="filming-locations-list">
                  <li
                    *ngFor="let filmingLocations of movie.filmingLocations"
                    class="overview-card-text"
                  >
                    {{ filmingLocations }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Production companies <br />
                <ul class="production-companies-list">
                  <li
                    *ngFor="
                      let productionCompanies of movie.productionCompanies
                    "
                    class="overview-card-text"
                  >
                    {{ productionCompanies }}
                  </li>
                </ul>
              </span>
              <span class="overview-card-text">
                Motion Picture Rating (MPA) <br />
                <p class="overview-card-text">{{ movie.MPA }}</p>
              </span>
            </div>
          </div>
          <div class="overview-review">
            <!-- <p>User Reviews</p> -->
            <app-review-card
              *ngFor="
                let review of movieService.latestReviews
                  | movieReviewsFilter : movie.title
              "
              [review]="review"
              [showImage]="false"
            ></app-review-card>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="similar-movies">
      <h2>Similar Movies</h2>
      <div class="similar-movies-list">
        <div
          class="similar-movie"
          *ngFor="let similarMovie of movie?.similarMovies"
        >
          <img
            [src]="similarMovie.imageUrl"
            alt="{{ similarMovie.title }}"
            class="similar-movie-poster"
          />
        </div>
      </div>
    </div> -->
  </div>
</body>
